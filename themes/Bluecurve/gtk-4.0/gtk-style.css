/**
 * Bluecurve GTK 4 theme
 * Copyright (C) 2024 | neeeeow
 * https://github.com/neeeeow/Bluecurve
 *
 * Forked from Blueshell:
 *  Copyright (C) 2015-2016 | jpsb
 *  Copyright (C) 2016-2018 | KlipKyle
 *  Copyright (C) 2017-2018 | mrnhmath
 *  Copyright (C) 2018 | Rakksor
 *  https://github.com/Rakksor/Blueshell
 *
 * Some components of the following themes were used & modified:
 *  Human GTK 3/4 theme:
 *   Copyright (C) 2020-2024 | Fabrice Creuzot (luigifab)
 *   https://github.com/luigifab/human-theme
 *  TraditionalOK:
 *   https://github.com/mate-desktop/mate-themes
 *
 * This program is free software: you can redistribute it and/or modify
 * it under the terms of the GNU General Public License as published by
 * the Free Software Foundation, either version 3 of the License, or
 * (at your option) any later version.
 *
 * This program is distributed in the hope that it will be useful,
 * but WITHOUT ANY WARRANTY; without even the implied warranty of
 * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the
 * GNU General Public License for more details.
 *
 * You should have received a copy of the GNU General Public License
 * along with this program.  If not, see <https://www.gnu.org/licenses/>.
 */

/**********************************************/
/* Global style */
/**********************************************/

* {
	-GtkMenu-horizontal-offset: -5px;
	-GtkScrollbar-has-backward-stepper: true;
	-GtkScrollbar-has-forward-stepper: true;
	-gtk-icon-style: regular;

	color: @theme_text_color;
}

/**********************************************/
/* Items with white background (views) */
/**********************************************/

.view, iconview, textview, treeview {
	background-color: @theme_base_color;
}

.view:disabled, iconview:disabled, textview:disabled, treeview:disabled {
	background-color: @insensitive_bg_color;
}

/**********************************************/
/* Items with grey background */
/**********************************************/

.background, .app-notification, paned  {
	background-color: @theme_bg_color;
}

/**********************************************/
/* Items with a transparent background */
/**********************************************/

dialog box.dialog-vbox {
	background: transparent;
}

/**********************************************/
/* Global selection and disabled colors */
/**********************************************/

:selected, selection {
	background-color: @theme_unfocused_selected_bg_color;
	color: @text_active_color;
}

*:selected:focus, selection:focus {
	background-color: @theme_selected_bg_color;
	color: @theme_selected_fg_color;
}

*:disabled {
	color: @insensitive_fg_color;
	text-shadow: @theme_selected_fg_color 1px 1px;
}

text:disabled,
label:disabled {
	color: @insensitive_fg_color;
	text-shadow: @theme_selected_fg_color 1px 1px;
}

/**********************************************/
/* Rubberbands */
/**********************************************/

.view.rubberband,
.rubberband,
view rubberband,
rubberband {
	background-color: alpha (@theme_selected_bg_color, 0.25);
	border: 1px solid @theme_selected_bg_color;
}

/**********************************************/
/* Metacity window decoration colors */
/**********************************************/

window:selected {
	background-color: @theme_selected_bg_color;
	color: @theme_selected_fg_color;
}

window:insensitive {
	color: @insensitive_fg_color;
	background-color: @insensitive_bg_color;
}


/**********************************************/
/* Disabled icon effects */
/**********************************************/

image:disabled,
button:disabled image,
spinbutton button:disabled image,
box.toolbar button:disabled image,
box.primary-toolbar button:disabled image {
	-gtk-icon-filter: opacity(0.5);
}

button.flat:disabled image,
box.toolbar button:checked:disabled image,
box.primary-toolbar button:checked:disabled image {
	-gtk-icon-filter: none;
}

/*********************************************/
/* Client side decorations
/*********************************************/

/* workaround to avoid unwanted black frames if switching compositor on/off */
.background {
	box-shadow: none;
}

.background.csd,
window.unified {
	background: @theme_bg_color;
	border-width: 0px;
	border-radius: 7px;
	box-shadow: 0 0 0 1px @wm_border, 0 2px 8px 3px @wm_shadow;
	margin: 0px;
}

.solid-csd {
	border-radius: 0;
	margin: 0;
	background-color: @theme_bg_color;
	border: solid 1px @wm_border;
	box-shadow: none;
}

window.background.csd,
window.background.solid-csd {
	padding: 0 4px 4px 4px;
}

.background.csd.popup,
.background.solid-csd.popup,
window.background.csd.maximized,
window.background.solid-csd.maximized,
window.background.csd.fullscreen,
window.background.solid-csd.fullscreen {
	padding: 0px; /* Remove padding for menus & maximised windows */
	border: 0;
	border-radius: 0px;
}

/* workaround to avoid unwanted black frames if switching compositor on/off */
backdrop {
/*    box-shadow: 0 0 0 1px shade(@wm_border,1.1), 0 2px 5px 1px*/
	box-shadow: none;
}

/* workaround to avoid unwanted black frames if switching compositor on/off */
.csd.popup {
	border-radius: 0;
	box-shadow: none;
}

.tiled {
	border-radius: 0;
	background-color: @theme_bg_color;
}

.ssd {
	box-shadow: 0 0 0 1px rgba(0, 0, 0, 0.23);
}

messagedialog.csd {
	border-radius: 7px;
	box-shadow: 0 1px 5px @wm_shadow;
}

.background.csd headerbar,
.background.solid-csd headerbar {
	padding: 0;
	margin: 0px -4px;
	min-height: 19px;

	color: @theme_selected_fg_color;

	border-top: 1px solid @headerbar_active_top;
	border-bottom: 1px solid @headerbar_active_bottom;

	background:
		url("img/csd_stripes.png") repeat,
		linear-gradient(to bottom,
		@headerbar_active_1,
		@headerbar_active_2 25%,
		@headerbar_active_3 50%,
		@headerbar_active_2 75%,
		@headerbar_active_1),
		@theme_selected_bg_color;

	/* trick to remove the first and last row of the stripes */
	box-shadow: inset 0px 1px @headerbar_active_1, inset 0px -1px @headerbar_active_1;
}

.background.csd headerbar {
	border-radius: 7px 7px 0px 0px;
}

.background.csd.maximized headerbar,
.background.solid-csd.maximized headerbar {
	/* We remove all margins when the window is maximised */
	margin: 0px;
	padding-top: 1px;
	border-radius: 0px;
	border: 1px solid @wm_border;
	border-bottom: 1px solid @headerbar_active_bottom;

	box-shadow: inset 0px 2px @headerbar_active_1, inset 0px 1px @headerbar_active_top, inset 0px -1px @headerbar_active_1;
}

.background.csd headerbar image,
.background.solid-csd headerbar image {
	color: @headerbar_active_text;
	/*-gtk-icon-transform: scale(0.75);*/
	-gtk-icon-style: symbolic;
}

.background.csd headerbar separator,
.background.solid-csd headerbar separator {
	background: none;
	padding: 0;
	margin: 0px;
	border: none;
}

.background.csd headerbar windowcontrols,
.background.solid-csd headerbar windowcontrols {
	margin: -1px 0px -1px 0px;
	padding: 0px 3px;
	border-bottom: 1px solid @headerbar_active_outer_bottom;
	border-left: 1px solid @headerbar_active_outer_side;
	background: linear-gradient(to bottom,
		@headerbar_active_outer_1 80%,
		@headerbar_active_outer_2);
}

.background.csd headerbar button label,
.background.csd headerbar label.title,
.background.solid-csd headerbar button label,
.background.solid-csd headerbar label.title {
	color: @headerbar_active_text;
	text-shadow: @headerbar_active_text_shadow 1px 1px;
}

.background.csd headerbar label.title,
.background.solid-csd headerbar label.title,
.background.csd headerbar button:checked,
.background.solid-csd headerbar button:checked {
	font-weight: bold;
}

.background.csd headerbar button,
.background.solid-csd headerbar button {
	margin: 0 5px;
	padding: 0;
	border: 0;
	color: @theme_selected_fg_color;
	background: none;
	box-shadow: none;
	min-width: 0px;
	min-height: 0px;
}

.background.csd headerbar button:focus,
.background.csd headerbar button:focus:hover,
.background.csd headerbar button:active,
.background.csd headerbar button:active:hover,
.background.csd headerbar button:active:focus:hover,
.background.csd headerbar button:hover,
.background.csd headerbar button:disabled,
.background.csd headerbar button:checked,
.background.csd headerbar button:checked:hover,
.background.csd headerbar button.toggle:checked,
.background.csd headerbar button.toggle:checked:hover,
.background.solid-csd headerbar button:focus,
.background.solid-csd headerbar button:focus:hover,
.background.solid-csd headerbar button:active,
.background.solid-csd headerbar button:active:hover,
.background.solid-csd headerbar button:active:focus:hover,
.background.solid-csd headerbar button:hover,
.background.solid-csd headerbar button:disabled,
.background.solid-csd headerbar button:checked,
.background.solid-csd headerbar button:checked:hover,
.background.solid-csd headerbar button.toggle:checked,
.background.solid-csd headerbar button.toggle:checked:hover {
	padding: 0;
	border: 0;
	background: none;
	box-shadow: none;
}

.background.csd headerbar button.minimize,
.background.csd headerbar button.maximize,
.background.csd headerbar button.close,
.background.solid-csd headerbar button.minimize,
.background.solid-csd headerbar button.maximize,
.background.solid-csd headerbar button.close {
	margin: 0px 1px;
	padding: 0px;
	border-radius: 3px;
	border: 1px solid @headerbar_active_button_border;
	box-shadow: inset -1px -1px @headerbar_active_button_shadow_dark, inset 1px 1px @headerbar_active_button_shadow_light;
	background: linear-gradient(135deg,
		@headerbar_active_button_1,
		@headerbar_active_button_2);
}

.background.csd headerbar button.minimize > image,
.background.csd headerbar button.maximize > image,
.background.csd headerbar button.close > image,
.background.solid-csd headerbar button.minimize > image,
.background.solid-csd headerbar button.maximize > image,
.background.solid-csd headerbar button.close > image {
	color: @headerbar_active_button;
}

.background.csd headerbar button.minimize:hover,
.background.csd headerbar button.maximize:hover,
.background.csd headerbar button.close:hover,
.background.solid-csd headerbar button.minimize:hover,
.background.solid-csd headerbar button.maximize:hover,
.background.solid-csd headerbar button.close:hover {
	border: 1px solid @headerbar_active_button_hover_border;
	box-shadow: inset -1px -1px @headerbar_active_button_shadow_dark,
		inset -1px -1px @prelight_tint,
		inset 1px 1px @headerbar_active_button_shadow_light,
		inset 1px 1px @prelight_tint;
	background:
		linear-gradient(135deg,
		@prelight_tint,
		@prelight_tint),
		linear-gradient(135deg,
		@headerbar_active_button_1,
		@headerbar_active_button_2);

}

.background.csd headerbar button.minimize:hover > image,
.background.csd headerbar button.maximize:hover > image,
.background.csd headerbar button.close:hover > image,
.background.solid-csd headerbar button.minimize:hover > image,
.background.solid-csd headerbar button.maximize:hover > image,
.background.solid-csd headerbar button.close:hover > image {
	color: @headerbar_active_button_hover;
}

.background.csd headerbar button.minimize:active,
.background.csd headerbar button.maximize:active,
.background.csd headerbar button.close:active,
.background.solid-csd headerbar button.minimize:active,
.background.solid-csd headerbar button.maximize:active,
.background.solid-csd headerbar button.close:active {
	border: 1px solid @headerbar_active_button_active_border;
	box-shadow: inset -1px -1px @headerbar_active_button_shadow_dark,
		inset -1px -1px @darken_tint,
		inset 1px 1px @headerbar_active_button_shadow_light,
		inset 1px 1px @darken_tint;
	background:
		linear-gradient(135deg,
		@darken_tint,
		@darken_tint),
		linear-gradient(135deg,
		@headerbar_active_button_1,
		@headerbar_active_button_2);
}

.background.csd headerbar button.minimize:active > image,
.background.csd headerbar button.maximize:active > image,
.background.csd headerbar button.close:active > image,
.background.solid-csd headerbar button.minimize:active > image,
.background.solid-csd headerbar button.maximize:active > image,
.background.solid-csd headerbar button.close:active > image {
	color: @headerbar_active_button_active;
}

.background.csd headerbar:backdrop,
.background.solid-csd headerbar:backdrop {
	color: @insensitive_fg_color;
	border-top: 0;
	padding-top: 1px;
	border-bottom: 1px solid @headerbar_backdrop_bottom;

	background:
		linear-gradient(to bottom,
		@headerbar_backdrop_1,
		@headerbar_backdrop_2 15%,
		@headerbar_backdrop_2 86%,
		@headerbar_backdrop_3);

	box-shadow: none;
}

.background.csd.maximized headerbar:backdrop,
.background.solid-csd.maximized headerbar:backdrop {
	/* We remove all margins when the window is maximised */
	margin: 0px;
	padding-top: 1px;
	border-radius: 0px;
	border: 1px solid @wm_border;
	border-bottom: 1px solid @headerbar_backdrop_bottom;
	box-shadow: none;
}

.background.csd headerbar:backdrop image,
.background.solid-csd headerbar:backdrop image {
	color: @insensitive_fg_color;
}

.background.csd headerbar:backdrop windowcontrols,
.background.solid-csd headerbar:backdrop windowcontrols {
	margin: -1px 0px -1px 0px;
	border: 0;
	background: none;
}

.background.csd headerbar:backdrop > .horizontal.right,
.background.solid-csd headerbar:backdrop > .horizontal.right {
	padding-left: 1px;	
}

.background.csd headerbar:backdrop > .horizontal.left,
.background.solid-csd headerbar:backdrop > .horizontal.left {
	padding-right: 1px;	
}

.background.csd headerbar:backdrop label,
.background.solid-csd headerbar:backdrop label {
	color: @insensitive_fg_color;
	text-shadow: none;
}

.background.csd headerbar:backdrop button.minimize,
.background.csd headerbar:backdrop button.maximize,
.background.csd headerbar:backdrop button.close,
.background.solid-csd headerbar:backdrop button.minimize,
.background.solid-csd headerbar:backdrop button.maximize,
.background.solid-csd headerbar:backdrop button.close {
	border: 1px solid @headerbar_backdrop_button_border;
	box-shadow: none;
	background: linear-gradient(to bottom,
		@headerbar_backdrop_button_1,
		@headerbar_backdrop_button_2);
}

.background.csd headerbar:backdrop button.minimize > image,
.background.csd headerbar:backdrop button.maximize > image,
.background.csd headerbar:backdrop button.close > image,
.background.solid-csd headerbar:backdrop button.minimize > image,
.background.solid-csd headerbar:backdrop button.maximize > image,
.background.solid-csd headerbar:backdrop button.close > image {
	color: @headerbar_backdrop_button;
}

.background.csd headerbar:backdrop button.minimize:hover,
.background.csd headerbar:backdrop button.maximize:hover,
.background.csd headerbar:backdrop button.close:hover,
.background.solid-csd headerbar:backdrop button.minimize:hover,
.background.solid-csd headerbar:backdrop button.maximize:hover,
.background.solid-csd headerbar:backdrop button.close:hover {
	border: 1px solid @headerbar_active_button_hover_border;
	box-shadow: none;
	background:
		linear-gradient(to bottom,
		@prelight_tint,
		@prelight_tint),
		linear-gradient(to bottom,
		@headerbar_backdrop_button_1,
		@headerbar_backdrop_button_2);
}

.background.csd headerbar:backdrop button.minimize:hover > image,
.background.csd headerbar:backdrop button.maximize:hover > image,
.background.csd headerbar:backdrop button.close:hover > image,
.background.solid-csd headerbar:backdrop button.minimize:hover > image,
.background.solid-csd headerbar:backdrop button.maximize:hover > image,
.background.solid-csd headerbar:backdrop button.close:hover > image {
	color: @headerbar_active_button_hover;
}

/********************************************/
/* Tooltips */
/*******************************************/

tooltip,
tooltip.background,
.tooltip,
.tooltip.background {
	padding: 4px;
	border-style: solid;
	border-width: 1px;
	border-color: @theme_tooltip_border_color;
	background-color: @theme_tooltip_bg_color;
	color: @theme_tooltip_fg_color;
	text-shadow: none;
}

tooltip *,
.tooltip * {
	text-shadow: none;
}

/* needed for override CSD setting */
tooltip decoration,
.tooltip decoration,
tooltip.csd decoration,
.tooltip.csd decoration,
tooltip.ssd decoration,
.tooltip.ssd decoration,
tooltip.solid-csd decoration,
.tooltip.solid-csd decoration,
tooltip.background.csd decoration,
.tooltip.background.csd decoration,
tooltip.background.ssd decoration,
.tooltip.background.ssd decoration,
tooltip.background.solid-csd decoration,
.tooltip.background.solid-csd decoration {
	border-radius: 0px;
	box-shadow: none;
}

/**********************************************/
/* Spinner */
/**********************************************/

@keyframes spin {
	to { -gtk-icon-transform: rotate(1turn); }
}

spinner {
	background: none;
	background-color: transparent;
	opacity: 0;
	-gtk-icon-source: -gtk-icontheme("process-working-symbolic");
}

spinner:checked {
	opacity: 1;
	animation: spin 1s steps(12, end) infinite;
}

spinner:active:disabled {
	opacity: 0.5;
}

spinner:disabled {
	opacity: 0.5;
}

button spinner:checked {
	color: @theme_fg_color;
}

/**********************************************/
/* button */
/**********************************************/

button {
	background-color: @theme_bg_color;
	padding: 4px;
	border: 1px solid @darker_border_color;
	box-shadow: inset -1px -1px @box_shadow_dark_color, inset 1px 1px @box_shadow_light_color;
}

button.flat, .appmenu, .minimize, .maximize, .close {
	background-color: transparent;
	border: 1px solid transparent;
	box-shadow: none;
}

button:checked, button:active, button:active:focus {
	background-color: @darker_color;
	border: 1px solid @darker_border_color;
	box-shadow: inset 1px 1px @box_shadow_dark_color, inset -1px -1px @box_shadow_light_color;
}

button:hover:not(:active) {
	background-color: @prelight_color;
	border: 1px solid @darker_border_color;
	box-shadow: inset -1px -1px @box_shadow_dark_color, inset 1px 1px @box_shadow_light_color;
}

button:checked:hover, button:active:hover {
	box-shadow: inset 1px 1px @box_shadow_dark_color, inset -1px -1px @box_shadow_light_color;
}

button:disabled, spinbutton:disabled {
	color: @insensitive_fg_color;
	background-color: @insensitive_bg_color;
	-gtk-icon-effect: dim;
}

button.flat:disabled, .titlebutton:disabled {
	background-color: @theme_bg_color;
	border: 1px solid transparent;
	box-shadow: none;
}

button:active label {
	color: @theme_text_color;
}

button.link label {
	color: @link_color;
	text-decoration: underline;
}

button.link:visited label {
	color: @link_visited_color;
}

button.flat.link:disabled label {
	color: @insensitive_fg_color
}

toolbar .image-button {
	min-width: 24px;
	min-height: 24px;
}

box.toolbar button:not(.toggle):not(:hover),
box.toolbar button.toggle:not(:checked):not(:hover),
box.primary-toolbar button:not(.toggle):not(:hover),
box.primary-toolbar button.toggle:not(:checked):not(:hover) {
	/* make toolbar buttons flat */
	border-color: transparent;
	background: none;
	box-shadow: none;
}

/**********************************************/
/* menubar, menu, popover */
/**********************************************/

menubar {
	padding: 1px 1px 0 1px;
	border-bottom: 1px solid @trough_bg_color;
}

menu, popover {
	border: 1px solid @border_color;
	padding: 0px;
}

popover.menu scrolledwindow,
popover.menu viewport {
	border: 0;
}

popover.menu viewport {
	padding: 3px 2px;
	box-shadow: inset -1px -1px @box_shadow_dark_color, inset 1px 1px @box_shadow_light_color;
}

/* Override global settings for selected items to ensure that menubar doesn't highlight when cursor is placed over it */
menubar > *:selected,
menubar > *:selected:focus {
	background: transparent;
	border: 1px solid transparent;
	box-shadow: inset 1px 1px transparent, inset -1px -1px transparent;
}

/* Set menu item padding */
item, popover modelbutton {
	padding: 3px 5px 3px 6px;
	border: 1px solid transparent;
}

menubar > item {
	padding: 3px 7px;
}

item:selected, 
item:hover, 
popover modelbutton:selected, 
popover modelbutton:hover {
	background-image: linear-gradient(to bottom, @menuitem_top_color, @menuitem_bottom_color);
	color: @theme_selected_fg_color;
	border: 1px solid @menuitem_border_color;
	box-shadow: inset 1px 1px @menuitem_light_color, inset -1px -1px @menuitem_dark_color;
}

popover modelbutton > box {
	min-width: 24px; /* Stops the menu items from being bunched up */
}

/* Set margin of menu item labels */
popover modelbutton > label {
	margin: 0px 25px 0 0;
}

popover modelbutton > label:dir(rtl) {
	margin: 0px 0 0 25px;
}

/* Set menu item label colors */
item:hover > *,
item:selected:not(prelight) > *,
popover modelbutton:hover > *,
popover modelbutton:selected:not(prelight) > * {
	color: @theme_selected_fg_color;
}

menubar > item:focus > * {
	color: @theme_fg_color;
}

/**********************************************/
/* toolbar */
/**********************************************/

box.toolbar image,
box.primary-toolbar image {
	-gtk-icon-size: 24px;
}

box.toolbar,
box.primary-toolbar {
	padding: 0 1px;
	border-top: 1px solid @light_border_color;
	border-bottom: 1px solid @trough_bg_color;
	background-color: @theme_bg_color;
}

/**********************************************/
/* scale */
/**********************************************/

scale trough {
	margin: 1px;
	background-color: @trough_bg_color;
	border-left: 1.5px solid @border_color;
	border-top: 1.5px solid  @border_color;
	border-right: 1px solid @border_color;
	border-bottom: 1px solid @border_color;
	outline-offset: 6px;
}

scale.horizontal trough {
	padding-left: 0px;
	padding-right: 0px;
	margin: 7px 10px;
}

scale.vertical trough {
	padding-top: 0px;
	padding-bottom: 0px;
	margin: 10px 7px;
}

scale slider {
	background-color: @theme_bg_color;
	border: 1px solid @darker_border_color;
	border-radius: 3.5px;
	box-shadow: inset -1px -1px @box_shadow_dark_color, inset 1px 1px @box_shadow_light_color;
}

scale slider:active, scale slider:active:focus, scale slider:hover {
	background-color: @prelight_color;
}

scale slider:disabled {
	background-color: @insensitive_bg_color;
}

scale.horizontal slider {
	min-width: 29px;
	min-height: 13px;
	background-repeat: no-repeat;
	background-position: center center;
	background-image: url("img/scale_thumb_horizontal.png");
	margin: -6px 0;
}

scale.vertical slider {
	min-width: 13px;
	min-height: 29px;
	background-repeat: no-repeat;
	background-position: center center;
	background-image: url("img/scale_thumb.png");
	margin: 0 -6px;
}

scale marks indicator {
	background-color: @box_shadow_dark_color;
}

/* this makes marks visible */
scale.horizontal indicator,
scale.horizontal.fine-tune indicator {
	min-height: 7px;
	min-width: 1px;
}

scale.vertical indicator,
scale.vertical.fine-tune indicator {
	min-height: 1px;
	min-width: 7px;
}

/* Add margin for indicators, needed in GTK 4 */
scale.vertical.marks-before marks.top indicator {
	margin: 12px 8px 12px -8px;
}

scale.vertical.marks-after marks.bottom indicator {
	margin: 12px -8px 12px 8px;
}

scale.horizontal.marks-before marks.top indicator {
	margin: 1px 0 1px 1px;
}

scale.horizontal.marks-after marks.bottom indicator {
	margin: 1px 0 1px 1px;
}

/**********************************************/
/* progressbar, levelbar */
/**********************************************/

progressbar trough, levelbar.continuous trough {
	background-color: @trough_bg_color;
	box-shadow: inset 1px 1px @border_color, inset -1px -1px @border_color;
}

levelbar.discrete trough {
	background-color: @trough_bg_color;
	border: 1px solid @border_color;
}

progressbar.vertical trough {
	padding: 0px 1px;
}

progressbar.horizontal trough {
	padding: 1px 0px;
}

progressbar.vertical trough, progressbar.vertical progress {
	min-width: 18px;
}

progressbar.horizontal trough, progressbar.horizontal progress {
	min-height: 18px;
}

levelbar.continuous.vertical trough {
	min-width: 10px;
}

levelbar.continuous.horizontal trough {
	min-height: 10px;
}

levelbar.discrete.vertical trough {
	min-width: 8px;
}

levelbar.discrete.horizontal trough {
	min-height: 8px;
}

levelbar.discrete block {
	border: 1px solid @border_color;
	background-color: @trough_bg_color;
	margin: -1px;
}

progressbar.vertical progress, levelbar.vertical block.filled {
	border: 1px solid @progressbar_border_color;
	box-shadow: inset 1px 1px @progressbar_light_color, inset -1px -1px @progressbar_dark_color;
	background: linear-gradient(
		to right, 
		@progressbar_top_color calc(2px), /* The gradient starts from here to account for the border */
		@progressbar_bottom_color calc(100% - 0.75px) /* The gradient ends 0.75 pixels from the bottom */
	);
}

progressbar.horizontal progress, levelbar.horizontal block.filled {
	border: 1px solid @progressbar_border_color;
	box-shadow: inset 1px 1px @progressbar_light_color, inset -1px -1px @progressbar_dark_color;
	background: linear-gradient(
		to bottom, 
		@progressbar_top_color calc(2px), /* The gradient starts from here to account for the border */
		@progressbar_bottom_color calc(100% - 0.75px) /* The gradient ends 0.75 pixels from the bottom */
	);
}

/**********************************************/
/* scrollbar */
/**********************************************/

scrollbar trough {
	background-color: @trough_bg_color;
	border: 1px solid @border_color;
}

scrollbar slider {
	background-color: @theme_bg_color;
	min-width: 11px;
	min-height: 27px;
	margin: -1px;
	border: 1px solid @darker_border_color;
	box-shadow: inset -1px -1px @box_shadow_dark_color, inset 1px 1px @box_shadow_light_color;
	padding: 1px;
	background-repeat: no-repeat;
	background-position: center center;
	background-image: url("img/scrollbar_thumb.png");
}

scrollbar.horizontal slider {
	background-image: url("img/scrollbar_thumb_horizontal.png");
	min-width: 27px;
	min-height: 11px;
}

scrollbar slider:hover {
	background-color: @prelight_color;
}

scrollbar button {
	padding: 2px;
	min-width: 9px;
	min-height: 9px;
}

scrollbar.vertical button.up {
	-gtk-icon-source: url("img/arrow-up.png");
}

scrollbar.vertical button.down {
	-gtk-icon-source: url("img/arrow-down.png");
}

scrollbar.horizontal button.up {
	-gtk-icon-source: url("img/arrow-left.png");
}

scrollbar.horizontal button.down {
	-gtk-icon-source: url("img/arrow-right.png");
}

scrollbar.vertical button.up:disabled {
	-gtk-icon-source: url("img/arrow-up-disabled.png");
}

scrollbar.vertical button.down:disabled {
	-gtk-icon-source: url("img/arrow-down-disabled.png");
}

scrollbar.horizontal button.up:disabled {
	-gtk-icon-source: url("img/arrow-left-disabled.png");
}

scrollbar.horizontal button.down:disabled {
	-gtk-icon-source: url("img/arrow-right-disabled.png");
}

/**********************************************/
/* Scrollbar position */
/**********************************************/

scrolledwindow scrollbar.horizontal {
	margin: 0px 0px -1px -1px;
}

scrolledwindow scrollbar.vertical:dir(rtl),
scrolledwindow scrollbar.vertical {
	margin: -1px -1px -1px -1px;
}

/**********************************************/
/* entry */
/**********************************************/

entry,
spinbutton text {
	background-color: @theme_base_color;
	padding: 3px;
	border: 1px solid @border_color;
	box-shadow: inset 1px 1px @entry_shadow_color;
}

entry:disabled,
entry text:disabled,
spinbutton text:disabled {
	background-color: @insensitive_base_color;
	color: @entry_disabled_text;
	text-shadow: none;
}

toolbar entry {
	margin: 3px;
}

entry image.left {
	margin: -1px 0 -1px;
}

entry image.right {
	margin: -1px 0 -1px;
}

entry image + text {
	margin-left: 4px;
}

entry image ~ text {
	margin-right: 4px;
}
/**********************************************/
/* scrolledwindow */
/**********************************************/

scrolledwindow {
	border: 1px solid @border_color;
}

junction {
	background-color: @theme_bg_color;
}

/* fix geany */
stack > scrolledwindow {
	border: none;
}

/* fix nautilus */
overlay > scrolledwindow {
	background-color: @theme_base_color;
}

/**********************************************/
/* placessidebar (filechooser and nautilus) */
/**********************************************/

placessidebar {
	border: 1px solid @border_color;
}

/**********************************************/
/* notebook, tab */
/**********************************************/

/* Tabs */
notebook tab {
	background-color: @darker_color;
	padding: 3px 4px;
	border: 1px solid @darker_border_color;
}

notebook tab:checked {
	background-color: @theme_bg_color;
}

notebook.frame > stack {
	border: 1px solid @darker_border_color;
	box-shadow: inset -1px -1px @box_shadow_dark_color, inset 1px 1px @box_shadow_light_color;
	padding: 1px;
}

/* Blend tabs with their corresponding stack */
notebook > header.top {
	padding: 1px 0 0 1px;
}

notebook.frame > header.top {
	margin-bottom: -1px;
}

notebook > header.top tab {
	margin-left: -1px;
	box-shadow: inset 0 1px @box_shadow_light_color;
}

notebook > header.top tab:first-child {
	box-shadow: inset 1px 1px @box_shadow_light_color;
}

notebook > header.top tab:checked {
	border-bottom: 0px;
	margin-top: -1px;
	box-shadow: inset 1px 1px @box_shadow_light_color, inset -1px 0 @box_shadow_dark_color;
}

notebook.frame > header.top tab:checked {
	margin-bottom: -1px;
}

notebook > header.bottom {
	padding: 0 0 1px 1px;
}

notebook.frame > header.bottom {
	margin-top: 0;
}

notebook.frame > header.bottom tab {
	margin-left: -1px;
	border-top: 0;
}

notebook.frame > header.bottom tab:first-child {
	box-shadow: inset 1px 0 @box_shadow_light_color, inset -1px -1px @box_shadow_dark_color;
}

notebook > header.bottom tab:checked {
	border-top: 0;
	margin-bottom: -1px;
	box-shadow: inset 1px 0 @box_shadow_light_color, inset -1px -1px @box_shadow_dark_color;
}

notebook.frame > header.bottom tab:checked {
	margin-top: -2px;
}

notebook > header.left {
	padding: 1px 0 0 1px;
}

notebook.frame > header.left {
	margin-right: -1px;
}

notebook.frame > header.left tab {
	margin-top: -1px;
	box-shadow: inset 1px 0 @box_shadow_light_color;
}

notebook.frame > header.left tab:first-child {
	box-shadow: inset 1px 1px @box_shadow_light_color, inset 0 -1px @box_shadow_dark_color;
}

notebook > header.left tab:checked {
	border-right: 0;
	margin-left: -1px;
	box-shadow: inset 1px 1px @box_shadow_light_color, inset 0 -1px @box_shadow_dark_color;
}

notebook.frame > header.left tab:checked {
	margin-right: -1px;
}

notebook > header.right {
	padding: 1px 1px 0 0;
}

notebook.frame > header.right {
	margin-left: -1px;
}

notebook.frame > header.right tab {
	margin-top: -1px;
}

notebook.frame > header.right tab:first-child {
	box-shadow: inset 0 1px @box_shadow_light_color, inset -1px -1px @box_shadow_dark_color;
}

notebook > header.right tab:checked {
	border-left: 0;
	margin-right: -1px;
	box-shadow: inset 0 1px @box_shadow_light_color, inset -1px -1px @box_shadow_dark_color;
}

notebook.frame > header.right tab:checked {
	margin-left: -2px;
}

notebook scrolledwindow.frame {
	margin-top: -1px;
	border: 1px solid @medium_border_color;
}

/**********************************************/
/* frame */
/**********************************************/

frame {
	border: 1px solid @medium_border_color;
}

frame > border {
	border: none;
}

frame.border-inset {
	border: 1px solid @border_color;
	box-shadow: inset -1px -1px 0 0 @frame_light_color;
}

frame.border-outset {
	border: 1px solid @border_color;
	box-shadow: inset 1px 1px 0 0 @frame_light_color;
}

frame.border-groove {
	border: 1px solid @trough_bg_color;
	box-shadow: inset 1px 1px @frame_groove_color, 1px 1px @frame_groove_color;
}

frame.border-ridge {
	border: 1px solid @frame_groove_color;
	box-shadow: inset 1px 1px @trough_bg_color, 1px 1px @trough_bg_color;
}

frame > label {
	background-color: @theme_bg_color;
	color: @darker_border_color;
	margin: 0 5px;
}

/**********************************************/
/* Status bar */
/* Taken from Human GTK 4 theme */
/**********************************************/

statusbar {
	margin: -1px 0 0;
	border: 0;
	border-top: 1px solid @trough_bg_color;
}

statusbar box,
statusbar label {
	margin: 0;
	padding: 0;
	border: 0;
	border-radius: 0;
	box-shadow: none;
}

statusbar > box {
	margin: 0;
	padding: 0 2px 2px;
	border-top: 1px solid @light_border_color;
}

statusbar > label { /* eom 1.24 */
	border-top: 1px solid @light_border_color;
}

statusbar box label {
	padding-bottom: 1px;
}

statusbar progressbar.horizontal {
	margin: 2px -2px -2px;
	font-size: 85%;
}

statusbar progressbar.horizontal text {
	padding-top: 4px;
}

/**********************************************/
/* list */
/**********************************************/

list {
	padding: 7px;
	background-color: @theme_base_color;
}

/**********************************************/
/* row */
/**********************************************/

row {
	padding: 5px;
	border: none;
}

row:selected {
	background-color: @theme_selected_bg_color;
}

row:selected * {
	background-color: @theme_selected_bg_color;
	color: @theme_selected_fg_color;
}

/**********************************************/
/* gridview * /
/**********************************************/

gridview child:selected label {
	color: @text_active_color;
}

gridview child:selected:focus label {
	color: @theme_selected_fg_color;
}

/**********************************************/
/* separator */
/**********************************************/

separator {
	padding: 0px;
	border-top: 1px solid @separator_darker_color; /* horizontal separator color */
	border-left: 1px solid @medium_border_color; /* vertical separator color */
}

separator.horizontal {
	margin: 1px 0px 1px 0px;
}

box.toolbar separator,
box.primary-toolbar separator {
	margin: 6px;
}

menu separator, popover separator {
	margin: 4px 6px 6px 6px;
	padding: 1px 0px 1px 0px;
	border: none;
	box-shadow: inset 0px 1px @separator_darker_color, inset 0px -1px @theme_selected_fg_color;
}

paned.vertical > separator {
	border: none;
	margin: 1px 0px 0px 0px;
	padding: 0px;
	background-image: url("img/separator_horizontal.png");
	background-position: center center;
	background-repeat: no-repeat;
	min-height: 5px;
}

paned.horizontal > separator {
	border: none;
	margin: 0px 0px 0px 1px;
	padding: 0px;
	background-image: url("img/separator_vertical.png");
	background-position: center center;
	background-repeat: no-repeat;
	min-width: 5px;
}

paned.vertical > separator:hover,
paned.horizontal > separator:hover {
	background-color: @prelight_color;
}

list separator.horizontal {
	min-height:1px;
	background-image: none;
	border: none;
	border-top: 1px solid @theme_bg_color;
}

/* filebrowser sidebar in gedit */
.separator {
	min-width: 12px;
	min-height: 12px;
	color: @theme_bg_color;
}

/**********************************************/
/* check, radio */
/**********************************************/

checkbutton, radiobutton {
	outline-offset: -2px;
}

checkbutton:hover, checkbutton:active:focus, radiobutton:hover, radiobutton:active:focus {
	background-color: @prelight_color;
}

checkbutton label, radiobutton label {
	margin: 0 0 0 1px;
	padding: 0 2px 0 1px;
	border: 1px dotted transparent;
}

checkbutton:active label, radiobutton:active label {
	color: @theme_text_color;
}

checkbutton:focus label, radiobutton:focus label {
	border-color: @darker_border_color;
}

check, radio {
	min-width: 16px;
	min-height: 16px;
	margin: 3px 0px 2px 1px;
}

check:active, check:active:focus, radio:active, radio:active:focus {
	background:none;
}

/* Set checkbox images */

check {
	-gtk-icon-source: url("img/checkbox-unchecked.png");
}

check:active {
	-gtk-icon-source: url("img/checkbox-unchecked-active.png");
}

check:checked {
	-gtk-icon-source: url("img/checkbox-checked.png");
}

check:checked:active {
	-gtk-icon-source: url("img/checkbox-checked-active.png");
}

check:indeterminate {
	-gtk-icon-source: url("img/checkbox-mixed.png");
}

check:indeterminate:active {
	-gtk-icon-source: url("img/checkbox-mixed-active.png");
}

/* Set radio images */

radio {
	-gtk-icon-source: url("img/radio-unchecked.png");
}

radio:active {
	-gtk-icon-source: url("img/radio-unchecked-active.png");
}

radio:checked {
	-gtk-icon-source: url("img/radio-checked.png");
}

radio:checked:active {
	-gtk-icon-source: url("img/radio-checked-active.png");
}

radio:indeterminate {
	-gtk-icon-source: url("img/radio-mixed.png");
}

radio:indeterminate:active {
	-gtk-icon-source: url("img/radio-mixed-active.png");
}

/* check and radio in menu */
item check, item radio {
	margin: 1px 2px 0px 0px;
	background: none;
	-gtk-icon-source: none;
}

item check:active,
item radio:active {
	-gtk-icon-source: none;
}

item check:hover
item check:selected:hover,
item check:checked,
item check:hover:checked,
item check:disabled:checked,
item radio:hover,
item radio:selected:hover,
item radio:checked,
item radio:hover:checked,
item radio:disabled:checked {
	background: none;
}

item check:checked {
	-gtk-icon-source: url("img/menuitem-check-checked.png");
}

item check:hover:checked {
	-gtk-icon-source: url("img/menuitem-check-checked-hover.png");
}

item check:disabled:checked {
	-gtk-icon-source: url("img/menuitem-check-checked-disabled.png");
}

item radio:checked {
	-gtk-icon-source: url("img/menuitem-radio-checked.png");
}

item radio:hover:checked {
	-gtk-icon-source: url("img/menuitem-radio-checked-hover.png");
}

item radio:disabled:checked {
	-gtk-icon-source: url("img/menuitem-radio-checked-disabled.png");
}

item check:indeterminate, item radio:indeterminate {
	-gtk-icon-source: url("img/menuitem-mixed.png");
}

item check:hover:indeterminate, item radio:hover:indeterminate {
	-gtk-icon-source: url("img/menuitem-mixed-hover.png");
}

item check:disabled:indeterminate, item radio:disabled:indeterminate {
	-gtk-icon-source: url("img/menuitem-mixed-disabled.png");
}

/**********************************************/
/* switch */
/**********************************************/

switch {
	background-color: @darker_color;
	border: 1px solid @border_color;
	min-width: 76px;
	min-height: 25px;
}

switch:checked {
	background-image: linear-gradient(to bottom, @menuitem_top_color, @menuitem_bottom_color);
	color: @theme_selected_fg_color;
	border: 1px solid @menuitem_border_color;
	box-shadow: inset 1px 1px @menuitem_light_color, inset -1px -1px @menuitem_dark_color;
}

switch:disabled {
	background-image: none;
	box-shadow: none;
	background-color: @insensitive_bg_color;
	color: @insensitive_fg_color;
	border: 1px solid @medium_border_color;
}

switch slider {
	background-color: @theme_bg_color;
	background-repeat: no-repeat;
	background-position: center center;
	border: 1px solid @darker_border_color;
	padding: 1px;
	box-shadow: inset -1px -1px @box_shadow_dark_color, inset 1px 1px @box_shadow_light_color;
	margin: -1px;
}

switch:disabled slider {
	background-color: @insensitive_bg_color;
}

switch:hover slider {
	background-color: @prelight_color;
}
/**********************************************/
/* arrow */
/**********************************************/

combobox arrow {
	min-height: 15px;
	min-width: 15px;
	background-repeat: no-repeat;
	background-position: right center;
	background-image: url("img/combobox-arrow-down.png");
	border-left: 1px solid @medium_border_color;
	margin-right: 1px;
}


combobox arrow:disabled {
	background-image: url("img/combobox-arrow-down-disabled.png");
}

combobox entry {
	padding: 4px;
}

combobox entry + button arrow {
	border: none;
	background-position: center center;
}

combobox button {
	padding: 3px;
}

combobox entry + button {
	padding: 3px 4px;
}

item arrow, popover modelbutton arrow.right {
	min-height: 9px;
	min-width: 9px;
	-gtk-icon-source: url("img/arrow-right.png");
}

item:hover > arrow,
item:selected:not(prelight) > arrow,
popover modelbutton:hover > arrow.right,
popover modelbutton:selected:not(prelight) > arrow.right {
	-gtk-icon-source: url("img/arrow-right-hover.png");
}

item:disabled > arrow {
	-gtk-icon-source: url("img/arrow-right-disabled.png");
}

menu arrow.top,
.menu arrow.top {
	border: 1px solid @border_color;
	padding: 2px 0px 3px 0px;

	-gtk-icon-source: none;
	background-repeat: no-repeat;
	background-position: center center;
	background-image: url("img/arrow-up.png");
}

menu arrow:hover.top,
.menu arrow:hover.top {
	background-color: @prelight_color;
}

menu arrow:disabled.top,
.menu arrow:disabled.top {
	background-image: url("img/arrow-up-disabled.png");
	background-color: @insensitive_bg_color;
}

menu arrow.bottom,
.menu arrow.bottom {
	border: 1px solid @border_color;
	margin: 8px 0px -8px 0px;
	padding: 2px 0px 3px 0px;

	-gtk-icon-source: none;
	background-repeat: no-repeat;
	background-position: center center;
	background-image: url("img/arrow-down.png");
	background-color: @theme_bg_color
}

menu arrow:hover.bottom,
.menu arrow:hover.bottom {
	background-color: @prelight_color;
}

menu arrow:disabled.bottom,
.menu arrow:disabled.bottom {
	background-image: url("img/arrow-down-disabled.png");
	background-color: @insensitive_bg_color;
}

popover modelbutton arrow.left {
	min-height: 9px;
	min-width: 9px;
	-gtk-icon-source: url("img/arrow-left.png");
}

popover modelbutton:hover > arrow.left {
	-gtk-icon-source: url("img/arrow-left-hover.png");
}

/********************************************/
/* treeview */
/* Modified from Human GTK 4 theme */
/********************************************/

treeview, listview, list {
	color: @theme_text_color;
	background-color: @theme_base_color;
}

treeview.view {
	padding: 0 1px;
}

treeview.view check,
treeview.view radio {
	background: transparent;
}

treeview.view.image:disabled {
	-gtk-icon-effect: dim;
}

treeview.view.progressbar,
treeview.view.progressbar:hover {
	background-color: @theme_selected_bg_color;
}

treeview.view.trough,
treeview.view.trough:hover,
treeview.view.trough:selected {
	border-style: solid;
	border-width: 1px;
	border-color: @border_color;
	color: @theme_fg_color;
	padding: 0px;
}

/********************************************/
/* File chooser */
/********************************************/

placessidebar label {
	margin-left: 4px;
}

/********************************************/
/* expander */
/*******************************************/

expander-widget title {
	padding: 1px;
}

expander-widget title:hover {
	background-color: @prelight_color;
}

expander-widget arrow {
	min-width: 16px;
	min-height: 16px;
	-gtk-icon-source: -gtk-icontheme("pan-down-symbolic");
	-gtk-icon-transform: rotate(-90deg);
	color: @theme_fg_color;
}

expander-widget arrow:checked {
	-gtk-icon-transform: unset;
}

/**********************************************/
/* calendar */
/**********************************************/

calendar {
	border: 1px solid @border_color;
	background-color: @theme_base_color;
}

calendar:indeterminate {
	color: @insensitive_fg_color;
}


